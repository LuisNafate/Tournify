<section class="register-container">
  <div class="register-left">
    <div class="image-container">
      <img src="assets/images/Imgen-login-register.svg" alt="Tournify Register" class="register-illustration">
    </div>
  </div>
  
  <div class="register-right">
    <div class="register-content">
      <div class="register-header">
        <h2>Crear Cuenta</h2>
        <p>Únete a la comunidad de Tournify</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
        <!-- Mensaje de error -->
        <div *ngIf="registerError" class="alert alert-error">
          {{ registerError }}
        </div>

        <!-- Nombre de usuario -->
        <div class="form-group">
          <label for="username">Nombre de usuario *</label>
          <input 
            type="text" 
            id="username" 
            formControlName="username"
            placeholder="Usuario123"
            [class.error]="hasError('username', 'required') || hasError('username', 'minlength')">
          <span class="error-message" *ngIf="hasError('username', 'required')">
            El nombre de usuario es requerido
          </span>
          <span class="error-message" *ngIf="hasError('username', 'minlength')">
            Mínimo 3 caracteres
          </span>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Correo electrónico *</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email"
            placeholder="correo@ejemplo.com"
            [class.error]="hasError('email', 'required') || hasError('email', 'email')">
          <span class="error-message" *ngIf="hasError('email', 'required')">
            El correo es requerido
          </span>
          <span class="error-message" *ngIf="hasError('email', 'email')">
            Formato de correo inválido
          </span>
        </div>

        <!-- Contraseña -->
        <div class="form-group">
          <label for="password">Contraseña *</label>
          <input 
            type="password" 
            id="password" 
            formControlName="password"
            placeholder="********"
            [class.error]="hasError('password', 'required') || hasError('password', 'minlength')">
          <span class="error-message" *ngIf="hasError('password', 'required')">
            La contraseña es requerida
          </span>
          <span class="error-message" *ngIf="hasError('password', 'minlength')">
            Mínimo 6 caracteres
          </span>
        </div>

        <!-- Confirmar contraseña -->
        <div class="form-group">
          <label for="confirmPassword">Confirmar contraseña *</label>
          <input 
            type="password" 
            id="confirmPassword" 
            formControlName="confirmPassword"
            placeholder="********"
            [class.error]="hasError('confirmPassword', 'required') || passwordMismatch">
          <span class="error-message" *ngIf="hasError('confirmPassword', 'required')">
            Debes confirmar la contraseña
          </span>
          <span class="error-message" *ngIf="passwordMismatch">
            Las contraseñas no coinciden
          </span>
        </div>

        <!-- Rol -->
        <div class="form-group">
          <label for="role">Tipo de cuenta *</label>
          <select id="role" formControlName="role">
            <option *ngFor="let rol of roles" [value]="rol.value">
              {{ rol.label }}
            </option>
          </select>
        </div>

        <button type="submit" [disabled]="isLoading || registerForm.invalid">
          <span *ngIf="!isLoading">Registrarse</span>
          <span *ngIf="isLoading">Registrando...</span>
        </button>
      </form>

      <p class="login-link">¿Ya tienes cuenta? <a routerLink="/auth/login">Inicia sesión aquí</a></p>
    </div>
  </div>
</section>
