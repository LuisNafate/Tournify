<section class="registrations-container">
  <div class="header">
    <button class="btn-back" (click)="goBack()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Volver
    </button>
    <h1>Gestionar Inscripciones</h1>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando inscripciones...</p>
  </div>

  <!-- Error -->
  <div *ngIf="error && !loading" class="error-container">
    <p class="error-message">{{ error }}</p>
    <button class="btn-retry" (click)="loadRegistrations()">Reintentar</button>
  </div>

  <!-- Empty state -->
  <div *ngIf="!loading && !error && registrations.length === 0" class="empty-state">
    <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M9 11l3 3L22 4"/>
      <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
    </svg>
    <h2>No hay inscripciones pendientes</h2>
    <p>Todas las inscripciones han sido revisadas</p>
  </div>

  <!-- Registrations list -->
  <div *ngIf="!loading && !error && registrations.length > 0" class="registrations-list">
    <div *ngFor="let registration of registrations" class="registration-card">
      <div class="team-info">
        <img
          [src]="registration.teamLogoUrl || 'assets/images/default-team-logo.png'"
          [alt]="registration.teamName"
          class="team-logo"
          (error)="$any($event.target).src='assets/images/default-team-logo.png'">
        <div class="team-details">
          <h3 class="team-name">{{ registration.teamName }}</h3>
          <p class="captain-name">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
            Capit√°n: {{ registration.captainName }}
          </p>
          <p class="registration-date">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            Inscrito el: {{ registration.registeredAt | date:'short' }}
          </p>
        </div>
      </div>

      <div class="actions">
        <button
          class="btn-approve"
          (click)="approveRegistration(registration.id)"
          [disabled]="isProcessing(registration.id)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          {{ isProcessing(registration.id) ? 'Procesando...' : 'Aprobar' }}
        </button>
        <button
          class="btn-reject"
          (click)="rejectRegistration(registration.id)"
          [disabled]="isProcessing(registration.id)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
          {{ isProcessing(registration.id) ? 'Procesando...' : 'Rechazar' }}
        </button>
      </div>
    </div>
  </div>
</section>
