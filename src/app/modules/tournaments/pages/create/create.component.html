<div class="create-tournament-page">
  <!-- Sidebar Lateral -->
  <aside class="sidebar">
    <!-- Perfil de Usuario -->
    <div class="sidebar-header">
      <div class="user-profile">
        <div class="avatar-wrapper">
          <img src="assets/images/default-avatar.png" alt="Avatar" class="avatar">
          <div class="status-indicator"></div>
        </div>
        <div class="user-details">
          <h3 class="user-name">Luvia Magali Hidalgo</h3>
          <a href="#" class="logout-link">Cerrar sesión</a>
        </div>
      </div>
    </div>

    <!-- Navegación -->
    <nav class="sidebar-nav">
      <a routerLink="/teams/register" class="nav-link">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/>
        </svg>
        <span>Registro de equipos</span>
      </a>

      <a routerLink="/players/register" class="nav-link">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        <span>Registro de jugadores</span>
      </a>

      <a routerLink="/organizer" class="nav-link">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        <span>Página del organizador</span>
      </a>

      <a routerLink="/referee" class="nav-link">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
        </svg>
        <span>Arbitraje</span>
      </a>
    </nav>

    <!-- Footer del sidebar -->
    <div class="sidebar-footer">
      <button class="collapse-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15 18 9 12 15 6"/>
        </svg>
      </button>
    </div>
  </aside>

  <!-- Contenido Principal -->
  <main class="main-container">
    <!-- Header -->
    <header class="page-header">
      <div class="breadcrumb">
        <a routerLink="/dashboard">Inicio</a>
        <span class="separator">/</span>
        <span class="current">Crear Torneo</span>
      </div>
      <button class="btn-new" routerLink="/tournaments/list">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M15 18l-6-6 6-6"/>
        </svg>
        Ver todos los torneos
      </button>
    </header>

    <!-- Formulario -->
    <div class="form-wrapper">
      <!-- Header del Formulario -->
      <div class="page-title-section">
        <h1 class="page-title">Crear Nuevo Campeonato</h1>
        <p class="page-description">Configura los detalles de tu torneo de forma rápida y sencilla</p>
      </div>

      <form class="tournament-form" (ngSubmit)="onSubmit()">
        <!-- Card: Información General -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">Información General</h3>
            <p class="card-subtitle">Datos básicos del campeonato</p>
          </div>

          <div class="card-body">
            <div class="form-row">
              <div class="form-group col-12">
                <label for="name" class="label">Nombre del Campeonato <span class="required">*</span></label>
                <input
                  type="text"
                  id="name"
                  [(ngModel)]="tournament.name"
                  name="name"
                  class="form-control"
                  placeholder="Ej: Copa de Verano 2025"
                  required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-6">
                <label for="sport" class="label">Deporte <span class="required">*</span></label>
                <select id="sport" [(ngModel)]="tournament.sport" name="sport" class="form-control" required>
                  <option value="">Selecciona un deporte</option>
                  <option value="football">Fútbol</option>
                  <option value="basketball">Baloncesto</option>
                  <option value="volleyball">Voleibol</option>
                  <option value="tennis">Tenis</option>
                  <option value="handball">Balonmano</option>
                  <option value="tabletennis">Tenis de Mesa</option>
                  <option value="esports">eSports</option>
                </select>
              </div>

              <div class="form-group col-6">
                <label for="location" class="label">Ubicación <span class="required">*</span></label>
                <input
                  type="text"
                  id="location"
                  [(ngModel)]="tournament.location"
                  name="location"
                  class="form-control"
                  placeholder="Ej: Estadio Municipal, Ciudad"
                  required>
              </div>
            </div>

            <!-- Imagen del Torneo -->
            <div class="form-row">
              <div class="form-group col-12">
                <label for="tournamentImage" class="label">Imagen del Torneo</label>
                <div class="image-upload-container">
                  <div class="image-preview" *ngIf="imagePreview">
                    <img [src]="imagePreview" alt="Preview">
                    <button type="button" class="remove-image" (click)="removeImage()">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                      </svg>
                    </button>
                  </div>
                  <div class="upload-area" *ngIf="!imagePreview" (click)="fileInput.click()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="upload-icon">
                      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                    <p class="upload-text">Haz clic para subir una imagen</p>
                    <small class="upload-hint">PNG, JPG hasta 5MB</small>
                  </div>
                  <input
                    #fileInput
                    type="file"
                    id="tournamentImage"
                    (change)="onImageSelect($event)"
                    accept="image/png,image/jpeg,image/jpg"
                    class="file-input"
                    hidden>
                </div>
                <small class="form-hint">Imagen recomendada: 1200x630 px (16:9)</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Card: Categoría y Modalidad -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">Categoría y Modalidad</h3>
            <p class="card-subtitle">Define el tipo de competencia</p>
          </div>

          <div class="card-body">
            <div class="form-row">
              <div class="form-group col-6">
                <label for="tournamentType" class="label">Tipo de Campeonato <span class="required">*</span></label>
                <select id="tournamentType" [(ngModel)]="tournament.tournamentType" name="tournamentType" class="form-control" required>
                  <option value="">Selecciona un tipo</option>
                  <option value="single">Campeonato Único</option>
                  <option value="categories">Campeonato por Categorías</option>
                </select>
              </div>

              <div class="form-group col-6" *ngIf="tournament.tournamentType === 'categories'">
                <label for="category" class="label">Categoría <span class="required">*</span></label>
                <select id="category" [(ngModel)]="tournament.category" name="category" class="form-control" [required]="tournament.tournamentType === 'categories'">
                  <option value="">Selecciona una categoría</option>
                  <option value="sub-12">Sub-12</option>
                  <option value="sub-15">Sub-15</option>
                  <option value="sub-18">Sub-18</option>
                  <option value="senior">Senior</option>
                  <option value="master">Master</option>
                  <option value="mixta">Mixta</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-6">
                <label for="eliminationMode" class="label">Modalidad de Eliminatorias <span class="required">*</span></label>
                <select id="eliminationMode" [(ngModel)]="tournament.eliminationMode" name="eliminationMode" class="form-control" required>
                  <option value="">Selecciona una modalidad</option>
                  <option value="single">Eliminación Simple</option>
                  <option value="double">Eliminación Doble</option>
                  <option value="round-robin">Todos contra Todos</option>
                  <option value="groups">Grupos + Eliminación</option>
                </select>
              </div>

              <div class="form-group col-6">
                <label for="maxTeams" class="label">Cantidad de Equipos <span class="required">*</span></label>
                <input
                  type="number"
                  id="maxTeams"
                  [(ngModel)]="tournament.maxTeams"
                  name="maxTeams"
                  class="form-control"
                  placeholder="16"
                  min="2"
                  required>
              </div>
            </div>
          </div>
        </div>

        <!-- Card: Fechas y Costo -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">Fechas y Costo</h3>
            <p class="card-subtitle">Periodo y valor de inscripción</p>
          </div>

          <div class="card-body">
            <div class="form-row">
              <div class="form-group col-6">
                <label for="startDate" class="label">Fecha de Inicio <span class="required">*</span></label>
                <input
                  type="date"
                  id="startDate"
                  [(ngModel)]="tournament.startDate"
                  name="startDate"
                  class="form-control"
                  required>
              </div>

              <div class="form-group col-6">
                <label for="endDate" class="label">Fecha de Finalización <span class="required">*</span></label>
                <input
                  type="date"
                  id="endDate"
                  [(ngModel)]="tournament.endDate"
                  name="endDate"
                  class="form-control"
                  required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-6">
                <label for="registrationFee" class="label">Cuota de Inscripción</label>
                <div class="input-with-prefix">
                  <span class="input-prefix">$</span>
                  <input
                    type="number"
                    id="registrationFee"
                    [(ngModel)]="tournament.registrationFee"
                    name="registrationFee"
                    class="form-control with-prefix"
                    placeholder="0.00"
                    min="0"
                    step="0.01">
                </div>
                <small class="form-hint">Deja en 0 si no requiere pago</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Card: Descripción -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">Descripción</h3>
            <p class="card-subtitle">Información adicional del campeonato</p>
          </div>

          <div class="card-body">
            <div class="form-row">
              <div class="form-group col-12">
                <label for="description" class="label">Descripción del Torneo</label>
                <textarea
                  id="description"
                  [(ngModel)]="tournament.description"
                  name="description"
                  class="form-control textarea"
                  rows="5"
                  placeholder="Describe las reglas, premios, requisitos de inscripción y otros detalles importantes..."></textarea>
                <small class="form-hint">Mínimo 50 caracteres recomendados para una mejor descripción</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Acciones del Formulario -->
        <div class="form-footer">
          <button type="button" class="btn btn-cancel" routerLink="/tournaments/list">
            Cancelar
          </button>
          <button type="submit" class="btn btn-submit">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="18" height="18">
              <polyline points="20 6 9 17 4 12"/>
            </svg>
            Crear Campeonato
          </button>
        </div>
      </form>
    </div>
  </main>
</div>
